{% extends 'tabla.html' %}
{% block titulo %}
Agregar productos
{% endblock %}
{% block tabla %}
<div class="col-md-12" style="margin-bottom: 10px">
    <form method="POST" action="" enctype="multipart/form-data" >{% csrf_token %}
        <div class="pull-left">
            <a href="/listar_evento/0/" class="btn btn-default"><i class="fa fa-chevron-left"></i> Eventos</a>
        </div>
        <div class="pull-right">
            <input type="submit" name="combos" class="btn btn-info" value="Combos">
        </div>
        <div style="margin-top: 10px" class="col-md-12">
            <table class="table table-striped table-responsive table-hover" id="content">
                <thead>
                    <th>Seleccionar</th>
                    <th>Producto</th>
                    <th>Proveedor</th>
                    <th>Precio</th>
                    <th>Costo</th>
                </thead>
                {% for producto in productos %}
                    <tr>
                        <td><input type="checkbox" value="{{ producto.0.id }}" name="seleccionados" {% if producto.1 %} checked {% endif %}> </td>
                        <td>{{ producto.0.nombre }}</td>
                        <td>
                            <select class="form-control" name="{{ producto.0.id }}proveedor">
                                {% for proveedor in proveedores%}
                                <option value="{{ proveedor.id }}" {% if producto.4 == proveedor %} selected {% endif %}>{{ proveedor.nombre }}</option>
                                {% endfor %}
                            </select>
                        </td>
                        <td><input type="text" onkeypress="return numero(event)" value="{{ producto.2 }}" name="{{ producto.0.id }}precio"></td>
                        <td><input type="text" onkeypress="return numero(event)" value="{{ producto.3 }}" name="{{ producto.0.id }}costo"></td>
                    </tr>
                {% empty %}
                    <tr>
                        <td>No hay productos</td>
                    </tr>
                {% endfor %}
            </table>
        </div>
        <div class="col-md-12">
            <input type="submit" class="btn btn-primary" value="Guardar">
        </div>
    </form>
</div>
{% endblock %}
{% block js %}
        <script>
          function numero(e) {
          var codigo;
          codigo = (document.all) ? e.keyCode : e.which;
          if (codigo > 31 && (codigo < 48 || codigo > 57) && codigo != 46 ) {
          return false;
          }
          return true;
        }
    </script>
{% endblock %}